smokesignals={convert:function(e,t){return t={},e.on=function(n,r){return(t[n]=t[n]||[]).push(r),e},e.once=function(t,n){function r(){n.apply(e.off(t,r),arguments)}return r.h=n,e.on(t,r)},e.off=function(n,r){for(var i=t[n],s=0;r&&i&&i[s];s++)i[s]!=r&&i[s].h!=r||i.splice(s--,1);return s||delete t[n],e},e.emit=function(n){for(var r=t[n],i=0;r&&r[i];)r[i++].apply(e,r.slice.call(arguments,1));return e},e}};