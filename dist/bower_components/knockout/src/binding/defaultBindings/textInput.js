(function(){if(window&&window.navigator)var e=function(e){if(e)return parseFloat(e[1])},t=window.opera&&window.opera.version&&parseInt(window.opera.version()),n=window.navigator.userAgent,r=e(n.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),i=e(n.match(/Firefox\/([^ ]*)/));if(ko.utils.ieVersion<10)var s=ko.utils.domData.nextKey(),o=ko.utils.domData.nextKey(),u=function(e){var t=this.activeElement,n=t&&ko.utils.domData.get(t,o);n&&n(e)},a=function(e,t){var n=e.ownerDocument;ko.utils.domData.get(n,s)||(ko.utils.domData.set(n,s,!0),ko.utils.registerEventHandler(n,"selectionchange",u)),ko.utils.domData.set(e,o,t)};ko.bindingHandlers.textInput={init:function(e,n,s){var o=e.value,u,f,l=function(t){clearTimeout(u),f=u=undefined;var r=e.value;o!==r&&(DEBUG&&t&&(e._ko_textInputProcessedEvent=t.type),o=r,ko.expressionRewriting.writeValueToProperty(n(),s,"textInput",r))},c=function(t){if(!u){f=e.value;var n=DEBUG?l.bind(e,{type:t.type}):l;u=setTimeout(n,4)}},h=function(){var t=ko.utils.unwrapObservable(n());if(t===null||t===undefined)t="";if(f!==undefined&&t===f){setTimeout(h,4);return}e.value!==t&&(o=t,e.value=t)},p=function(t,n){ko.utils.registerEventHandler(e,t,n)};DEBUG&&ko.bindingHandlers.textInput._forceUpdateOn?ko.utils.arrayForEach(ko.bindingHandlers.textInput._forceUpdateOn,function(e){e.slice(0,5)=="after"?p(e.slice(5),c):p(e,l)}):ko.utils.ieVersion<10?(p("propertychange",function(e){e.propertyName==="value"&&l(e)}),ko.utils.ieVersion==8&&(p("keyup",l),p("keydown",l)),ko.utils.ieVersion>=8&&(a(e,l),p("dragend",c))):(p("input",l),r<5&&ko.utils.tagNameLower(e)==="textarea"?(p("keydown",c),p("paste",c),p("cut",c)):t<11?p("keydown",c):i<4&&(p("DOMAutoComplete",l),p("dragdrop",l),p("drop",l))),p("change",l),ko.computed(h,null,{disposeWhenNodeIsRemoved:e})}},ko.expressionRewriting.twoWayBindings.textInput=!0,ko.bindingHandlers.textinput={preprocess:function(e,t,n){n("textInput",e)}}})();