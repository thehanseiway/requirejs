(function(){function t(e){return function(){return e}}function n(e){return e()}function r(e){return ko.utils.objectMap(ko.dependencyDetection.ignore(e),function(t,n){return function(){return e()[n]}})}function i(e,n,i){return typeof e=="function"?r(e.bind(null,n,i)):ko.utils.objectMap(e,t)}function s(e,t){return r(this.getBindings.bind(this,e,t))}function o(e){var t=ko.virtualElements.allowedBindings[e];if(!t)throw new Error("The binding '"+e+"' cannot be used with virtual elements")}function u(e,t,n){var r,i=ko.virtualElements.firstChild(t),s=ko.bindingProvider.instance,o=s.preprocessNode;if(o){while(r=i)i=ko.virtualElements.nextSibling(r),o.call(s,r);i=ko.virtualElements.firstChild(t)}while(r=i)i=ko.virtualElements.nextSibling(r),a(e,r,n)}function a(t,n,r){var i=!0,s=n.nodeType===1;s&&ko.virtualElements.normaliseVirtualElementDomStructure(n);var o=s&&r||ko.bindingProvider.instance.nodeHasBindings(n);o&&(i=c(n,null,t,r).shouldBindDescendants),i&&!e[ko.utils.tagNameLower(n)]&&u(t,n,!s)}function l(e){var t=[],n={},r=[];return ko.utils.objectForEach(e,function i(s){if(!n[s]){var o=ko.getBindingHandler(s);o&&(o.after&&(r.push(s),ko.utils.arrayForEach(o.after,function(t){if(e[t]){if(ko.utils.arrayIndexOf(r,t)!==-1)throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+r.join(", "));i(t)}}),r.length--),t.push({key:s,handler:o})),n[s]=!0}}),t}function c(e,t,r,i){var u=ko.utils.domData.get(e,f);if(!t){if(u)throw Error("You cannot apply bindings multiple times to the same element.");ko.utils.domData.set(e,f,!0)}!u&&i&&ko.storedBindingContextForNode(e,r);var a;if(t&&typeof t!="function")a=t;else{var c=ko.bindingProvider.instance,h=c.getBindingAccessors||s,p=ko.dependentObservable(function(){return a=t?t(r,e):h.call(c,e,r),a&&r._subscribable&&r._subscribable(),a},null,{disposeWhenNodeIsRemoved:e});if(!a||!p.isActive())p=null}var d;if(a){var v=p?function(e){return function(){return n(p()[e])}}:function(e){return a[e]};function m(){return ko.utils.objectMap(p?p():a,n)}m.get=function(e){return a[e]&&n(v(e))},m.has=function(e){return e in a};var g=l(a);ko.utils.arrayForEach(g,function(t){var n=t.handler.init,i=t.handler.update,s=t.key;e.nodeType===8&&o(s);try{typeof n=="function"&&ko.dependencyDetection.ignore(function(){var t=n(e,v(s),m,r.$data,r);if(t&&t.controlsDescendantBindings){if(d!==undefined)throw new Error("Multiple bindings ("+d+" and "+s+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");d=s}}),typeof i=="function"&&ko.dependentObservable(function(){i(e,v(s),m,r.$data,r)},null,{disposeWhenNodeIsRemoved:e})}catch(u){throw u.message='Unable to process binding "'+s+": "+a[s]+'"\nMessage: '+u.message,u}})}return{shouldBindDescendants:d===undefined}}function p(e){return e&&e instanceof ko.bindingContext?e:new ko.bindingContext(e)}ko.bindingHandlers={};var e={script:!0,textarea:!0};ko.getBindingHandler=function(e){return ko.bindingHandlers[e]},ko.bindingContext=function(e,t,n,r){function i(){var i=u?e():e,s=ko.utils.unwrapObservable(i);return t?(t._subscribable&&t._subscribable(),ko.utils.extend(o,t),f&&(o._subscribable=f)):(o.$parents=[],o.$root=s,o.ko=ko),o.$rawData=i,o.$data=s,n&&(o[n]=s),r&&r(o,t,s),o.$data}function s(){return a&&!ko.utils.anyDomNodeIsAttachedToDocument(a)}var o=this,u=typeof e=="function"&&!ko.isObservable(e),a,f=ko.dependentObservable(i,null,{disposeWhen:s,disposeWhenNodeIsRemoved:!0});f.isActive()&&(o._subscribable=f,f.equalityComparer=null,a=[],f._addNode=function(e){a.push(e),ko.utils.domNodeDisposal.addDisposeCallback(e,function(e){ko.utils.arrayRemoveItem(a,e),a.length||(f.dispose(),o._subscribable=f=undefined)})})},ko.bindingContext.prototype.createChildContext=function(e,t,n){return new ko.bindingContext(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)})},ko.bindingContext.prototype.extend=function(e){return new ko.bindingContext(this._subscribable||this.$data,this,null,function(t,n){t.$rawData=n.$rawData,ko.utils.extend(t,typeof e=="function"?e():e)})};var f=ko.utils.domData.nextKey(),h=ko.utils.domData.nextKey();ko.storedBindingContextForNode=function(e,t){if(arguments.length!=2)return ko.utils.domData.get(e,h);ko.utils.domData.set(e,h,t),t._subscribable&&t._subscribable._addNode(e)},ko.applyBindingAccessorsToNode=function(e,t,n){return e.nodeType===1&&ko.virtualElements.normaliseVirtualElementDomStructure(e),c(e,t,p(n),!0)},ko.applyBindingsToNode=function(e,t,n){var r=p(n);return ko.applyBindingAccessorsToNode(e,i(t,r,e),r)},ko.applyBindingsToDescendants=function(e,t){(t.nodeType===1||t.nodeType===8)&&u(p(e),t,!0)},ko.applyBindings=function(e,t){!jQueryInstance&&window.jQuery&&(jQueryInstance=window.jQuery);if(t&&t.nodeType!==1&&t.nodeType!==8)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||window.document.body,a(p(e),t,!0)},ko.contextFor=function(e){switch(e.nodeType){case 1:case 8:var t=ko.storedBindingContextForNode(e);if(t)return t;if(e.parentNode)return ko.contextFor(e.parentNode)}return undefined},ko.dataFor=function(e){var t=ko.contextFor(e);return t?t.$data:undefined},ko.exportSymbol("bindingHandlers",ko.bindingHandlers),ko.exportSymbol("applyBindings",ko.applyBindings),ko.exportSymbol("applyBindingsToDescendants",ko.applyBindingsToDescendants),ko.exportSymbol("applyBindingAccessorsToNode",ko.applyBindingAccessorsToNode),ko.exportSymbol("applyBindingsToNode",ko.applyBindingsToNode),ko.exportSymbol("contextFor",ko.contextFor),ko.exportSymbol("dataFor",ko.dataFor)})();