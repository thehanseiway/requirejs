var arrayChangeEventName="arrayChange";ko.extenders.trackArrayChanges=function(e){function u(){if(t)return;t=!0;var s=e.notifySubscribers;e.notifySubscribers=function(e,t){return(!t||t===defaultEvent)&&++i,s.apply(this,arguments)};var o=[].concat(e.peek()||[]);n=null,r=e.subscribe(function(t){t=[].concat(t||[]);if(e.hasSubscriptionsForEvent(arrayChangeEventName))var r=a(o,t);o=t,n=null,i=0,r&&r.length&&e.notifySubscribers(r,arrayChangeEventName)})}function a(e,t){if(!n||i>1)n=ko.utils.compareArrays(e,t,{sparse:!0});return n}if(e.cacheDiffForKnownOperation)return;var t=!1,n=null,r,i=0,s=e.beforeSubscriptionAdd,o=e.afterSubscriptionRemove;e.beforeSubscriptionAdd=function(t){s&&s.call(e,t),t===arrayChangeEventName&&u()},e.afterSubscriptionRemove=function(n){o&&o.call(e,n),n===arrayChangeEventName&&!e.hasSubscriptionsForEvent(arrayChangeEventName)&&(r.dispose(),t=!1)},e.cacheDiffForKnownOperation=function(e,r,s){function l(e,t,n){return o[o.length]={status:e,value:t,index:n}}if(!t||i)return;var o=[],u=e.length,a=s.length,f=0;switch(r){case"push":f=u;case"unshift":for(var c=0;c<a;c++)l("added",s[c],f+c);break;case"pop":f=u-1;case"shift":u&&l("deleted",e[f],f);break;case"splice":var h=Math.min(Math.max(0,s[0]<0?u+s[0]:s[0]),u),p=a===1?u:Math.min(h+(s[1]||0),u),d=h+a-2,v=Math.max(p,d),m=[],g=[];for(var c=h,y=2;c<v;++c,++y)c<p&&g.push(l("deleted",e[c],c)),c<d&&m.push(l("added",s[y],c));ko.utils.findMovesInArrayComparison(g,m);break;default:return}n=o}};