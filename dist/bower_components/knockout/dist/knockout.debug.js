/*!
 * Knockout JavaScript library v3.3.0
 * (c) Steven Sanderson - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */

(function(){var DEBUG=!0;(function(undefined){var window=this||(0,eval)("this"),document=window.document,navigator=window.navigator,jQueryInstance=window.jQuery,JSON=window.JSON;(function(e){typeof define=="function"&&define.amd?define(["exports","require"],e):typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?e(module.exports||exports):e(window.ko={})})(function(e,t){function i(e,t){var n=e===null||typeof e in r;return n?e===t:!1}function s(e,t){var n;return function(){n||(n=setTimeout(function(){n=undefined,e()},t))}}function o(e,t){var n;return function(){clearTimeout(n),n=setTimeout(e,t)}}function u(e){var t=this;return e&&n.utils.objectForEach(e,function(e,r){var i=n.extenders[e];typeof i=="function"&&(t=i(t,r)||t)}),t}function v(e){n.bindingHandlers[e]={init:function(t,r,i,s,o){var u=function(){var t={};return t[e]=r(),t};return n.bindingHandlers.event.init.call(this,t,u,i,s,o)}}}function y(e,t,r,i){n.bindingHandlers[e]={init:function(e,s,o,u,a){var f,l;return n.computed(function(){var o=n.utils.unwrapObservable(s()),u=!r!=!o,c=!l,h=c||t||u!==f;h&&(c&&n.computedContext.getDependenciesCount()&&(l=n.utils.cloneNodes(n.virtualElements.childNodes(e),!0)),u?(c||n.virtualElements.setDomNodeChildren(e,n.utils.cloneNodes(l)),n.applyBindingsToDescendants(i?i(a,o):a,e)):n.virtualElements.emptyNode(e),f=u)},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}},n.expressionRewriting.bindingRewriteValidators[e]=!1,n.virtualElements.allowedBindings[e]=!0}var n=typeof e!="undefined"?e:{};n.exportSymbol=function(e,t){var r=e.split("."),i=n;for(var s=0;s<r.length-1;s++)i=i[r[s]];i[r[r.length-1]]=t},n.exportProperty=function(e,t,n){e[t]=n},n.version="3.3.0",n.exportSymbol("version",n.version),n.utils=function(){function e(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function t(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function r(e,t){return e.__proto__=t,e}function h(e,t){if(n.utils.tagNameLower(e)!=="input"||!e.type)return!1;if(t.toLowerCase()!="click")return!1;var r=e.type;return r=="checkbox"||r=="radio"}function d(e,t,r){var i;t&&(typeof e.classList=="object"?(i=e.classList[r?"add":"remove"],n.utils.arrayForEach(t.match(p),function(t){i.call(e.classList,t)})):typeof e.className["baseVal"]=="string"?v(e.className,"baseVal",t,r):v(e,"className",t,r))}function v(e,t,r,i){var s=e[t].match(p)||[];n.utils.arrayForEach(r.match(p),function(e){n.utils.addOrRemoveItem(s,e,i)}),e[t]=s.join(" ")}var i={__proto__:[]}instanceof Array,s={},o={},u=navigator&&/Firefox\/2/i.test(navigator.userAgent)?"KeyboardEvent":"UIEvents";s[u]=["keyup","keydown","keypress"],s.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"],e(s,function(e,t){if(t.length)for(var n=0,r=t.length;n<r;n++)o[t[n]]=e});var a={propertychange:!0},f=document&&function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");while(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",n[0]);return e>4?e:undefined}(),l=f===6,c=f===7,p=/\S+/g;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)},arrayIndexOf:function(e,t){if(typeof Array.prototype.indexOf=="function")return Array.prototype.indexOf.call(e,t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},arrayFirst:function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r))return e[r];return null},arrayRemoveItem:function(e,t){var r=n.utils.arrayIndexOf(e,t);r>0?e.splice(r,1):r===0&&e.shift()},arrayGetDistinctValues:function(e){e=e||[];var t=[];for(var r=0,i=e.length;r<i;r++)n.utils.arrayIndexOf(t,e[r])<0&&t.push(e[r]);return t},arrayMap:function(e,t){e=e||[];var n=[];for(var r=0,i=e.length;r<i;r++)n.push(t(e[r],r));return n},arrayFilter:function(e,t){e=e||[];var n=[];for(var r=0,i=e.length;r<i;r++)t(e[r],r)&&n.push(e[r]);return n},arrayPushAll:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,r=t.length;n<r;n++)e.push(t[n]);return e},addOrRemoveItem:function(e,t,r){var i=n.utils.arrayIndexOf(n.utils.peekObservable(e),t);i<0?r&&e.push(t):r||e.splice(i,1)},canSetPrototype:i,extend:t,setPrototypeOf:r,setPrototypeOfOrExtend:i?r:t,objectForEach:e,objectMap:function(e,t){if(!e)return e;var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r],r,e));return n},emptyDomNode:function(e){while(e.firstChild)n.removeNode(e.firstChild)},moveCleanedNodesToContainerElement:function(e){var t=n.utils.makeArray(e),r=t[0]&&t[0].ownerDocument||document,i=r.createElement("div");for(var s=0,o=t.length;s<o;s++)i.appendChild(n.cleanNode(t[s]));return i},cloneNodes:function(e,t){for(var r=0,i=e.length,s=[];r<i;r++){var o=e[r].cloneNode(!0);s.push(t?n.cleanNode(o):o)}return s},setDomNodeChildren:function(e,t){n.utils.emptyDomNode(e);if(t)for(var r=0,i=t.length;r<i;r++)e.appendChild(t[r])},replaceDomNodes:function(e,t){var r=e.nodeType?[e]:e;if(r.length>0){var i=r[0],s=i.parentNode;for(var o=0,u=t.length;o<u;o++)s.insertBefore(t[o],i);for(var o=0,u=r.length;o<u;o++)n.removeNode(r[o])}},fixUpContinuousNodeArray:function(e,t){if(e.length){t=t.nodeType===8&&t.parentNode||t;while(e.length&&e[0].parentNode!==t)e.splice(0,1);if(e.length>1){var n=e[0],r=e[e.length-1];e.length=0;while(n!==r){e.push(n),n=n.nextSibling;if(!n)return}e.push(r)}}return e},setOptionNodeSelectionState:function(e,t){f<7?e.setAttribute("selected",t):e.selected=t},stringTrim:function(e){return e===null||e===undefined?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(e,t){return e=e||"",t.length>e.length?!1:e.substring(0,t.length)===t},domNodeIsContainedBy:function(e,t){if(e===t)return!0;if(e.nodeType===11)return!1;if(t.contains)return t.contains(e.nodeType===3?e.parentNode:e);if(t.compareDocumentPosition)return(t.compareDocumentPosition(e)&16)==16;while(e&&e!=t)e=e.parentNode;return!!e},domNodeIsAttachedToDocument:function(e){return n.utils.domNodeIsContainedBy(e,e.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(e){return!!n.utils.arrayFirst(e,n.utils.domNodeIsAttachedToDocument)},tagNameLower:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},registerEventHandler:function(e,t,r){var i=f&&a[t];if(!i&&jQueryInstance)jQueryInstance(e).bind(t,r);else if(!i&&typeof e.addEventListener=="function")e.addEventListener(t,r,!1);else{if(typeof e.attachEvent=="undefined")throw new Error("Browser doesn't support addEventListener or attachEvent");var s=function(t){r.call(e,t)},o="on"+t;e.attachEvent(o,s),n.utils.domNodeDisposal.addDisposeCallback(e,function(){e.detachEvent(o,s)})}},triggerEvent:function(e,t){if(!e||!e.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");var n=h(e,t);if(jQueryInstance&&!n)jQueryInstance(e).trigger(t);else if(typeof document.createEvent=="function"){if(typeof e.dispatchEvent!="function")throw new Error("The supplied element doesn't support dispatchEvent");var r=o[t]||"HTMLEvents",i=document.createEvent(r);i.initEvent(t,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(i)}else if(n&&e.click)e.click();else{if(typeof e.fireEvent=="undefined")throw new Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}},unwrapObservable:function(e){return n.isObservable(e)?e():e},peekObservable:function(e){return n.isObservable(e)?e.peek():e},toggleDomNodeCssClass:d,setTextContent:function(e,t){var r=n.utils.unwrapObservable(t);if(r===null||r===undefined)r="";var i=n.virtualElements.firstChild(e);!i||i.nodeType!=3||n.virtualElements.nextSibling(i)?n.virtualElements.setDomNodeChildren(e,[e.ownerDocument.createTextNode(r)]):i.data=r,n.utils.forceRefresh(e)},setElementName:function(e,t){e.name=t;if(f<=7)try{e.mergeAttributes(document.createElement("<input name='"+e.name+"'/>"),!1)}catch(n){}},forceRefresh:function(e){if(f>=9){var t=e.nodeType==1?e:e.parentNode;t.style&&(t.style.zoom=t.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(e){if(f){var t=e.style.width;e.style.width=0,e.style.width=t}},range:function(e,t){e=n.utils.unwrapObservable(e),t=n.utils.unwrapObservable(t);var r=[];for(var i=e;i<=t;i++)r.push(i);return r},makeArray:function(e){var t=[];for(var n=0,r=e.length;n<r;n++)t.push(e[n]);return t},isIe6:l,isIe7:c,ieVersion:f,getFormFields:function(e,t){var r=n.utils.makeArray(e.getElementsByTagName("input")).concat(n.utils.makeArray(e.getElementsByTagName("textarea"))),i=typeof t=="string"?function(e){return e.name===t}:function(e){return t.test(e.name)},s=[];for(var o=r.length-1;o>=0;o--)i(r[o])&&s.push(r[o]);return s},parseJson:function(e){if(typeof e=="string"){e=n.utils.stringTrim(e);if(e)return JSON&&JSON.parse?JSON.parse(e):(new Function("return "+e))()}return null},stringifyJson:function(e,t,r){if(!JSON||!JSON.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify(n.utils.unwrapObservable(e),t,r)},postJson:function(t,r,i){i=i||{};var s=i.params||{},o=i.includeFields||this.fieldsIncludedWithJsonPost,u=t;if(typeof t=="object"&&n.utils.tagNameLower(t)==="form"){var a=t;u=a.action;for(var f=o.length-1;f>=0;f--){var l=n.utils.getFormFields(a,o[f]);for(var c=l.length-1;c>=0;c--)s[l[c].name]=l[c].value}}r=n.utils.unwrapObservable(r);var h=document.createElement("form");h.style.display="none",h.action=u,h.method="post";for(var p in r){var d=document.createElement("input");d.type="hidden",d.name=p,d.value=n.utils.stringifyJson(n.utils.unwrapObservable(r[p])),h.appendChild(d)}e(s,function(e,t){var n=document.createElement("input");n.type="hidden",n.name=e,n.value=t,h.appendChild(n)}),document.body.appendChild(h),i.submitter?i.submitter(h):h.submit(),setTimeout(function(){h.parentNode.removeChild(h)},0)}}}(),n.exportSymbol("utils",n.utils),n.exportSymbol("utils.arrayForEach",n.utils.arrayForEach),n.exportSymbol("utils.arrayFirst",n.utils.arrayFirst),n.exportSymbol("utils.arrayFilter",n.utils.arrayFilter),n.exportSymbol("utils.arrayGetDistinctValues",n.utils.arrayGetDistinctValues),n.exportSymbol("utils.arrayIndexOf",n.utils.arrayIndexOf),n.exportSymbol("utils.arrayMap",n.utils.arrayMap),n.exportSymbol("utils.arrayPushAll",n.utils.arrayPushAll),n.exportSymbol("utils.arrayRemoveItem",n.utils.arrayRemoveItem),n.exportSymbol("utils.extend",n.utils.extend),n.exportSymbol("utils.fieldsIncludedWithJsonPost",n.utils.fieldsIncludedWithJsonPost),n.exportSymbol("utils.getFormFields",n.utils.getFormFields),n.exportSymbol("utils.peekObservable",n.utils.peekObservable),n.exportSymbol("utils.postJson",n.utils.postJson),n.exportSymbol("utils.parseJson",n.utils.parseJson),n.exportSymbol("utils.registerEventHandler",n.utils.registerEventHandler),n.exportSymbol("utils.stringifyJson",n.utils.stringifyJson),n.exportSymbol("utils.range",n.utils.range),n.exportSymbol("utils.toggleDomNodeCssClass",n.utils.toggleDomNodeCssClass),n.exportSymbol("utils.triggerEvent",n.utils.triggerEvent),n.exportSymbol("utils.unwrapObservable",n.utils.unwrapObservable),n.exportSymbol("utils.objectForEach",n.utils.objectForEach),n.exportSymbol("utils.addOrRemoveItem",n.utils.addOrRemoveItem),n.exportSymbol("utils.setTextContent",n.utils.setTextContent),n.exportSymbol("unwrap",n.utils.unwrapObservable),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(arguments.length===1)return function(){return t.apply(e,arguments)};var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice(0);return r.push.apply(r,arguments),t.apply(e,r)}}),n.utils.domData=new function(){function r(r,i){var s=r[t],o=s&&s!=="null"&&n[s];if(!o){if(!i)return undefined;s=r[t]="ko"+e++,n[s]={}}return n[s]}var e=0,t="__ko__"+(new Date).getTime(),n={};return{get:function(e,t){var n=r(e,!1);return n===undefined?undefined:n[t]},set:function(e,t,n){if(n===undefined&&r(e,!1)===undefined)return;var i=r(e,!0);i[t]=n},clear:function(e){var r=e[t];return r?(delete n[r],e[t]=null,!0):!1},nextKey:function(){return e++ +t}}},n.exportSymbol("utils.domData",n.utils.domData),n.exportSymbol("utils.domData.clear",n.utils.domData.clear),n.utils.domNodeDisposal=new function(){function i(t,r){var i=n.utils.domData.get(t,e);return i===undefined&&r&&(i=[],n.utils.domData.set(t,e,i)),i}function s(t){n.utils.domData.set(t,e,undefined)}function o(e){var t=i(e,!1);if(t){t=t.slice(0);for(var s=0;s<t.length;s++)t[s](e)}n.utils.domData.clear(e),n.utils.domNodeDisposal.cleanExternalData(e),r[e.nodeType]&&u(e)}function u(e){var t,n=e.firstChild;while(t=n)n=t.nextSibling,t.nodeType===8&&o(t)}var e=n.utils.domData.nextKey(),t={1:!0,8:!0,9:!0},r={1:!0,9:!0};return{addDisposeCallback:function(e,t){if(typeof t!="function")throw new Error("Callback must be a function");i(e,!0).push(t)},removeDisposeCallback:function(e,t){var r=i(e,!1);r&&(n.utils.arrayRemoveItem(r,t),r.length==0&&s(e))},cleanNode:function(e){if(t[e.nodeType]){o(e);if(r[e.nodeType]){var i=[];n.utils.arrayPushAll(i,e.getElementsByTagName("*"));for(var s=0,u=i.length;s<u;s++)o(i[s])}}return e},removeNode:function(e){n.cleanNode(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){jQueryInstance&&typeof jQueryInstance["cleanData"]=="function"&&jQueryInstance.cleanData([e])}}},n.cleanNode=n.utils.domNodeDisposal.cleanNode,n.removeNode=n.utils.domNodeDisposal.removeNode,n.exportSymbol("cleanNode",n.cleanNode),n.exportSymbol("removeNode",n.removeNode),n.exportSymbol("utils.domNodeDisposal",n.utils.domNodeDisposal),n.exportSymbol("utils.domNodeDisposal.addDisposeCallback",n.utils.domNodeDisposal.addDisposeCallback),n.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",n.utils.domNodeDisposal.removeDisposeCallback),function(){function t(e,t){t||(t=document);var r=t.parentWindow||t.defaultView||window,i=n.utils.stringTrim(e).toLowerCase(),s=t.createElement("div"),o=i.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!i.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!i.indexOf("<td")||!i.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],u="ignored<div>"+o[1]+e+o[2]+"</div>";typeof r["innerShiv"]=="function"?s.appendChild(r.innerShiv(u)):s.innerHTML=u;while(o[0]--)s=s.lastChild;return n.utils.makeArray(s.lastChild.childNodes)}function r(e,t){if(jQueryInstance.parseHTML)return jQueryInstance.parseHTML(e,t)||[];var n=jQueryInstance.clean([e],t);if(n&&n[0]){var r=n[0];while(r.parentNode&&r.parentNode.nodeType!==11)r=r.parentNode;r.parentNode&&r.parentNode.removeChild(r)}return n}var e=/^(\s*)<!--(.*?)-->/;n.utils.parseHtmlFragment=function(e,n){return jQueryInstance?r(e,n):t(e,n)},n.utils.setHtml=function(e,t){n.utils.emptyDomNode(e),t=n.utils.unwrapObservable(t);if(t!==null&&t!==undefined){typeof t!="string"&&(t=t.toString());if(jQueryInstance)jQueryInstance(e).html(t);else{var r=n.utils.parseHtmlFragment(t,e.ownerDocument);for(var i=0;i<r.length;i++)e.appendChild(r[i])}}}}(),n.exportSymbol("utils.parseHtmlFragment",n.utils.parseHtmlFragment),n.exportSymbol("utils.setHtml",n.utils.setHtml),n.memoization=function(){function t(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function r(){return t()+t()}function i(e,t){if(!e)return;if(e.nodeType==8){var r=n.memoization.parseMemoText(e.nodeValue);r!=null&&t.push({domNode:e,memoId:r})}else if(e.nodeType==1)for(var s=0,o=e.childNodes,u=o.length;s<u;s++)i(o[s],t)}var e={};return{memoize:function(t){if(typeof t!="function")throw new Error("You can only pass a function to ko.memoization.memoize()");var n=r();return e[n]=t,"<!--[ko_memo:"+n+"]-->"},unmemoize:function(t,n){var r=e[t];if(r===undefined)throw new Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return r.apply(null,n||[]),!0}finally{delete e[t]}},unmemoizeDomNodeAndDescendants:function(e,t){var r=[];i(e,r);for(var s=0,o=r.length;s<o;s++){var u=r[s].domNode,a=[u];t&&n.utils.arrayPushAll(a,t),n.memoization.unmemoize(r[s].memoId,a),u.nodeValue="",u.parentNode&&u.parentNode.removeChild(u)}},parseMemoText:function(e){var t=e.match(/^\[ko_memo\:(.*?)\]$/);return t?t[1]:null}}}(),n.exportSymbol("memoization",n.memoization),n.exportSymbol("memoization.memoize",n.memoization.memoize),n.exportSymbol("memoization.unmemoize",n.memoization.unmemoize),n.exportSymbol("memoization.parseMemoText",n.memoization.parseMemoText),n.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",n.memoization.unmemoizeDomNodeAndDescendants),n.extenders={throttle:function(e,t){e.throttleEvaluation=t;var r=null;return n.dependentObservable({read:e,write:function(n){clearTimeout(r),r=setTimeout(function(){e(n)},t)}})},rateLimit:function(e,t){var n,r,i;typeof t=="number"?n=t:(n=t.timeout,r=t.method),i=r=="notifyWhenChangesStop"?o:s,e.limit(function(e){return i(e,n)})},notify:function(e,t){e.equalityComparer=t=="always"?null:i}};var r={"undefined":1,"boolean":1,number:1,string:1};n.exportSymbol("extenders",n.extenders),n.subscription=function(e,t,r){this._target=e,this.callback=t,this.disposeCallback=r,this.isDisposed=!1,n.exportProperty(this,"dispose",this.dispose)},n.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},n.subscribable=function(){n.utils.setPrototypeOfOrExtend(this,n.subscribable.fn),this._subscriptions={},this._versionNumber=1};var a="change",f={subscribe:function(e,t,r){var i=this;r=r||a;var s=t?e.bind(t):e,o=new n.subscription(i,s,function(){n.utils.arrayRemoveItem(i._subscriptions[r],o),i.afterSubscriptionRemove&&i.afterSubscriptionRemove(r)});return i.beforeSubscriptionAdd&&i.beforeSubscriptionAdd(r),i._subscriptions[r]||(i._subscriptions[r]=[]),i._subscriptions[r].push(o),o},notifySubscribers:function(e,t){t=t||a,t===a&&this.updateVersion();if(this.hasSubscriptionsForEvent(t))try{n.dependencyDetection.begin();for(var r=this._subscriptions[t].slice(0),i=0,s;s=r[i];++i)s.isDisposed||s.callback(e)}finally{n.dependencyDetection.end()}},getVersion:function(){return this._versionNumber},hasChanged:function(e){return this.getVersion()!==e},updateVersion:function(){++this._versionNumber},limit:function(e){var t=this,r=n.isObservable(t),i,s,o,u="beforeChange";t._origNotifySubscribers||(t._origNotifySubscribers=t.notifySubscribers,t.notifySubscribers=function(e,n){!n||n===a?t._rateLimitedChange(e):n===u?t._rateLimitedBeforeChange(e):t._origNotifySubscribers(e,n)});var f=e(function(){r&&o===t&&(o=t()),i=!1,t.isDifferent(s,o)&&t._origNotifySubscribers(s=o)});t._rateLimitedChange=function(e){i=!0,o=e,f()},t._rateLimitedBeforeChange=function(e){i||(s=e,t._origNotifySubscribers(e,u))}},hasSubscriptionsForEvent:function(e){return this._subscriptions[e]&&this._subscriptions[e].length},getSubscriptionsCount:function(e){if(e)return this._subscriptions[e]&&this._subscriptions[e].length||0;var t=0;return n.utils.objectForEach(this._subscriptions,function(e,n){t+=n.length}),t},isDifferent:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:u};n.exportProperty(f,"subscribe",f.subscribe),n.exportProperty(f,"extend",f.extend),n.exportProperty(f,"getSubscriptionsCount",f.getSubscriptionsCount),n.utils.canSetPrototype&&n.utils.setPrototypeOf(f,Function.prototype),n.subscribable.fn=f,n.isSubscribable=function(e){return e!=null&&typeof e.subscribe=="function"&&typeof e["notifySubscribers"]=="function"},n.exportSymbol("subscribable",n.subscribable),n.exportSymbol("isSubscribable",n.isSubscribable),n.computedContext=n.dependencyDetection=function(){function i(){return++r}function s(n){e.push(t),t=n}function o(){t=e.pop()}var e=[],t,r=0;return{begin:s,end:o,registerDependency:function(e){if(t){if(!n.isSubscribable(e))throw new Error("Only subscribable things can act as dependencies");t.callback(e,e._id||(e._id=i()))}},ignore:function(e,t,n){try{return s(),e.apply(t,n||[])}finally{o()}},getDependenciesCount:function(){if(t)return t.computed.getDependenciesCount()},isInitial:function(){if(t)return t.isInitial}}}(),n.exportSymbol("computedContext",n.computedContext),n.exportSymbol("computedContext.getDependenciesCount",n.computedContext.getDependenciesCount),n.exportSymbol("computedContext.isInitial",n.computedContext.isInitial),n.exportSymbol("computedContext.isSleeping",n.computedContext.isSleeping),n.exportSymbol("ignoreDependencies",n.ignoreDependencies=n.dependencyDetection.ignore),n.observable=function(e){function r(){return arguments.length>0?(r.isDifferent(t,arguments[0])&&(r.valueWillMutate(),t=arguments[0],DEBUG&&(r._latestValue=t),r.valueHasMutated()),this):(n.dependencyDetection.registerDependency(r),t)}var t=e;return n.subscribable.call(r),n.utils.setPrototypeOfOrExtend(r,n.observable.fn),DEBUG&&(r._latestValue=t),r.peek=function(){return t},r.valueHasMutated=function(){r.notifySubscribers(t)},r.valueWillMutate=function(){r.notifySubscribers(t,"beforeChange")},n.exportProperty(r,"peek",r.peek),n.exportProperty(r,"valueHasMutated",r.valueHasMutated),n.exportProperty(r,"valueWillMutate",r.valueWillMutate),r},n.observable.fn={equalityComparer:i};var l=n.observable.protoProperty="__ko_proto__";n.observable.fn[l]=n.observable,n.utils.canSetPrototype&&n.utils.setPrototypeOf(n.observable.fn,n.subscribable.fn),n.hasPrototype=function(e,t){return e===null||e===undefined||e[l]===undefined?!1:e[l]===t?!0:n.hasPrototype(e[l],t)},n.isObservable=function(e){return n.hasPrototype(e,n.observable)},n.isWriteableObservable=function(e){return typeof e=="function"&&e[l]===n.observable?!0:typeof e=="function"&&e[l]===n.dependentObservable&&e.hasWriteFunction?!0:!1},n.exportSymbol("observable",n.observable),n.exportSymbol("isObservable",n.isObservable),n.exportSymbol("isWriteableObservable",n.isWriteableObservable),n.exportSymbol("isWritableObservable",n.isWriteableObservable),n.observableArray=function(e){e=e||[];if(typeof e=="object"&&"length"in e){var t=n.observable(e);return n.utils.setPrototypeOfOrExtend(t,n.observableArray.fn),t.extend({trackArrayChanges:!0})}throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.")},n.observableArray.fn={remove:function(e){var t=this.peek(),r=[],i=typeof e=="function"&&!n.isObservable(e)?e:function(t){return t===e};for(var s=0;s<t.length;s++){var o=t[s];i(o)&&(r.length===0&&this.valueWillMutate(),r.push(o),t.splice(s,1),s--)}return r.length&&this.valueHasMutated(),r},removeAll:function(e){if(e===undefined){var t=this.peek(),r=t.slice(0);return this.valueWillMutate(),t.splice(0,t.length),this.valueHasMutated(),r}return e?this.remove(function(t){return n.utils.arrayIndexOf(e,t)>=0}):[]},destroy:function(e){var t=this.peek(),r=typeof e=="function"&&!n.isObservable(e)?e:function(t){return t===e};this.valueWillMutate();for(var i=t.length-1;i>=0;i--){var s=t[i];r(s)&&(t[i]._destroy=!0)}this.valueHasMutated()},destroyAll:function(e){return e===undefined?this.destroy(function(){return!0}):e?this.destroy(function(t){return n.utils.arrayIndexOf(e,t)>=0}):[]},indexOf:function(e){var t=this();return n.utils.arrayIndexOf(t,e)},replace:function(e,t){var n=this.indexOf(e);n>=0&&(this.valueWillMutate(),this.peek()[n]=t,this.valueHasMutated())}},n.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(e){n.observableArray.fn[e]=function(){var t=this.peek();this.valueWillMutate(),this.cacheDiffForKnownOperation(t,e,arguments);var n=t[e].apply(t,arguments);return this.valueHasMutated(),n}}),n.utils.arrayForEach(["slice"],function(e){n.observableArray.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),n.utils.canSetPrototype&&n.utils.setPrototypeOf(n.observableArray.fn,n.observable.fn),n.exportSymbol("observableArray",n.observableArray);var c="arrayChange";n.extenders.trackArrayChanges=function(e){function f(){if(t)return;t=!0;var n=e.notifySubscribers;e.notifySubscribers=function(e,t){return(!t||t===a)&&++s,n.apply(this,arguments)};var o=[].concat(e.peek()||[]);r=null,i=e.subscribe(function(t){t=[].concat(t||[]);if(e.hasSubscriptionsForEvent(c))var n=l(o,t);o=t,r=null,s=0,n&&n.length&&e.notifySubscribers(n,c)})}function l(e,t){if(!r||s>1)r=n.utils.compareArrays(e,t,{sparse:!0});return r}if(e.cacheDiffForKnownOperation)return;var t=!1,r=null,i,s=0,o=e.beforeSubscriptionAdd,u=e.afterSubscriptionRemove;e.beforeSubscriptionAdd=function(t){o&&o.call(e,t),t===c&&f()},e.afterSubscriptionRemove=function(n){u&&u.call(e,n),n===c&&!e.hasSubscriptionsForEvent(c)&&(i.dispose(),t=!1)},e.cacheDiffForKnownOperation=function(e,i,o){function c(e,t,n){return u[u.length]={status:e,value:t,index:n}}if(!t||s)return;var u=[],a=e.length,f=o.length,l=0;switch(i){case"push":l=a;case"unshift":for(var h=0;h<f;h++)c("added",o[h],l+h);break;case"pop":l=a-1;case"shift":a&&c("deleted",e[l],l);break;case"splice":var p=Math.min(Math.max(0,o[0]<0?a+o[0]:o[0]),a),d=f===1?a:Math.min(p+(o[1]||0),a),v=p+f-2,m=Math.max(d,v),g=[],y=[];for(var h=p,b=2;h<m;++h,++b)h<d&&y.push(c("deleted",e[h],h)),h<v&&g.push(c("added",o[b],h));n.utils.findMovesInArrayComparison(y,g);break;default:return}r=u}},n.computed=n.dependentObservable=function(e,t,r){function h(e,t,n){if(l&&t===g)throw Error("A 'pure' computed must not be called recursively");C[e]=n,n._order=k++,n._version=t.getVersion()}function p(){var e,t;for(e in C)if(C.hasOwnProperty(e)){t=C[e];if(t._target.hasChanged(t._version))return!0}}function d(){!c&&C&&n.utils.objectForEach(C,function(e,t){t.dispose&&t.dispose()}),C=null,k=0,a=!0,s=!1,c=!1}function v(){var e=g.throttleEvaluation;e&&e>=0?(clearTimeout(L),L=setTimeout(function(){m(!0)},e)):g._evalRateLimited?g._evalRateLimited():m(!0)}function m(e){if(o)return;if(a)return;if(T&&T()){if(!u){N();return}}else u=!1;o=!0;try{var r=C,p=k,d=l?undefined:!k;n.dependencyDetection.begin({callback:function(e,t){a||(p&&r[t]?(h(t,e,r[t]),delete r[t],--p):C[t]||h(t,e,c?{_target:e}:e.subscribe(v)))},computed:g,isInitial:d}),C={},k=0;try{var m=t?f.call(t):f()}finally{n.dependencyDetection.end(),p&&!c&&n.utils.objectForEach(r,function(e,t){t.dispose&&t.dispose()}),s=!1}g.isDifferent(i,m)&&(c||w(i,"beforeChange"),i=m,DEBUG&&(g._latestValue=i),c?g.updateVersion():e&&w(i)),d&&w(i,"awake")}finally{o=!1}k||N()}function g(){if(arguments.length>0){if(typeof E!="function")throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return E.apply(t,arguments),this}return n.dependencyDetection.registerDependency(g),(s||c&&p())&&m(),i}function y(){return(s&&!k||c&&p())&&m(),i}function b(){return s||k>0}function w(e,t){g.notifySubscribers(e,t)}var i,s=!0,o=!1,u=!1,a=!1,f=e,l=!1,c=!1;f&&typeof f=="object"?(r=f,f=r.read):(r=r||{},f||(f=r.read));if(typeof f!="function")throw new Error("Pass a function that returns the value of the ko.computed");var E=r.write,S=r.disposeWhenNodeIsRemoved||r.disposeWhenNodeIsRemoved||null,x=r.disposeWhen||r.disposeWhen,T=x,N=d,C={},k=0,L=null;t||(t=r.owner),n.subscribable.call(g),n.utils.setPrototypeOfOrExtend(g,n.dependentObservable.fn),g.peek=y,g.getDependenciesCount=function(){return k},g.hasWriteFunction=typeof E=="function",g.dispose=function(){N()},g.isActive=b;var A=g.limit;return g.limit=function(e){A.call(g,e),g._evalRateLimited=function(){g._rateLimitedBeforeChange(i),s=!0,g._rateLimitedChange(g)}},r.pure?(l=!0,c=!0,g.beforeSubscriptionAdd=function(e){if(!a&&c&&e=="change"){c=!1;if(s||p())C=null,k=0,s=!0,m();else{var t=[];n.utils.objectForEach(C,function(e,n){t[n._order]=e}),n.utils.arrayForEach(t,function(e,t){var n=C[e],r=n._target.subscribe(v);r._order=t,r._version=n._version,C[e]=r})}a||w(i,"awake")}},g.afterSubscriptionRemove=function(e){!a&&e=="change"&&!g.hasSubscriptionsForEvent("change")&&(n.utils.objectForEach(C,function(e,t){t.dispose&&(C[e]={_target:t._target,_order:t._order,_version:t._version},t.dispose())}),c=!0,w(undefined,"asleep"))},g._originalGetVersion=g.getVersion,g.getVersion=function(){return c&&(s||p())&&m(),g._originalGetVersion()}):r.deferEvaluation&&(g.beforeSubscriptionAdd=function(e){(e=="change"||e=="beforeChange")&&y()}),n.exportProperty(g,"peek",g.peek),n.exportProperty(g,"dispose",g.dispose),n.exportProperty(g,"isActive",g.isActive),n.exportProperty(g,"getDependenciesCount",g.getDependenciesCount),S&&(u=!0,S.nodeType&&(T=function(){return!n.utils.domNodeIsAttachedToDocument(S)||x&&x()})),!c&&!r.deferEvaluation&&m(),S&&b()&&S.nodeType&&(N=function(){n.utils.domNodeDisposal.removeDisposeCallback(S,N),d()},n.utils.domNodeDisposal.addDisposeCallback(S,N)),g},n.isComputed=function(e){return n.hasPrototype(e,n.dependentObservable)};var h=n.observable.protoProperty;n.dependentObservable[h]=n.observable,n.dependentObservable.fn={equalityComparer:i},n.dependentObservable.fn[h]=n.dependentObservable,n.utils.canSetPrototype&&n.utils.setPrototypeOf(n.dependentObservable.fn,n.subscribable.fn),n.exportSymbol("dependentObservable",n.dependentObservable),n.exportSymbol("computed",n.dependentObservable),n.exportSymbol("isComputed",n.isComputed),n.pureComputed=function(e,t){return typeof e=="function"?n.computed(e,t,{pure:!0}):(e=n.utils.extend({},e),e.pure=!0,n.computed(e,t))},n.exportSymbol("pureComputed",n.pureComputed),function(){function t(e,n,s){s=s||new i,e=n(e);var o=typeof e=="object"&&e!==null&&e!==undefined&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof Number)&&!(e instanceof Boolean);if(!o)return e;var u=e instanceof Array?[]:{};return s.save(e,u),r(e,function(r){var i=n(e[r]);switch(typeof i){case"boolean":case"number":case"string":case"function":u[r]=i;break;case"object":case"undefined":var o=s.get(i);u[r]=o!==undefined?o:t(i,n,s)}}),u}function r(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);typeof e["toJSON"]=="function"&&t("toJSON")}else for(var r in e)t(r)}function i(){this.keys=[],this.values=[]}var e=10;n.toJS=function(r){if(arguments.length==0)throw new Error("When calling ko.toJS, pass the object you want to convert.");return t(r,function(t){for(var r=0;n.isObservable(t)&&r<e;r++)t=t();return t})},n.toJSON=function(e,t,r){var i=n.toJS(e);return n.utils.stringifyJson(i,t,r)},i.prototype={constructor:i,save:function(e,t){var r=n.utils.arrayIndexOf(this.keys,e);r>=0?this.values[r]=t:(this.keys.push(e),this.values.push(t))},get:function(e){var t=n.utils.arrayIndexOf(this.keys,e);return t>=0?this.values[t]:undefined}}}(),n.exportSymbol("toJS",n.toJS),n.exportSymbol("toJSON",n.toJSON),function(){var e="__ko__hasDomDataOptionValue__";n.selectExtensions={readValue:function(t){switch(n.utils.tagNameLower(t)){case"option":if(t[e]===!0)return n.utils.domData.get(t,n.bindingHandlers.options.optionValueDomDataKey);return n.utils.ieVersion<=7?t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text:t.value;case"select":return t.selectedIndex>=0?n.selectExtensions.readValue(t.options[t.selectedIndex]):undefined;default:return t.value}},writeValue:function(t,r,i){switch(n.utils.tagNameLower(t)){case"option":switch(typeof r){case"string":n.utils.domData.set(t,n.bindingHandlers.options.optionValueDomDataKey,undefined),e in t&&delete t[e],t.value=r;break;default:n.utils.domData.set(t,n.bindingHandlers.options.optionValueDomDataKey,r),t[e]=!0,t.value=typeof r=="number"?r:""}break;case"select":if(r===""||r===null)r=undefined;var s=-1;for(var o=0,u=t.options.length,a;o<u;++o){a=n.selectExtensions.readValue(t.options[o]);if(a==r||a==""&&r===undefined){s=o;break}}if(i||s>=0||r===undefined&&t.size>1)t.selectedIndex=s;break;default:if(r===null||r===undefined)r="";t.value=r}}}}(),n.exportSymbol("selectExtensions",n.selectExtensions),n.exportSymbol("selectExtensions.readValue",n.selectExtensions.readValue),n.exportSymbol("selectExtensions.writeValue",n.selectExtensions.writeValue),n.expressionRewriting=function(){function r(r){if(n.utils.arrayIndexOf(e,r)>=0)return!1;var i=r.match(t);return i===null?!1:i[1]?"Object("+i[1]+")"+i[2]:r}function p(e){var t=n.utils.stringTrim(e);t.charCodeAt(0)===123&&(t=t.slice(1,-1));var r=[],i=t.match(l),s,o=[],u=0;if(i){i.push(",");for(var a=0,f;f=i[a];++a){var p=f.charCodeAt(0);if(p===44){if(u<=0){r.push(s&&o.length?{key:s,value:o.join("")}:{unknown:s||o.join("")}),s=u=0,o=[];continue}}else if(p===58){if(!u&&!s&&o.length===1){s=o.pop();continue}}else if(p===47&&a&&f.length>1){var d=i[a-1].match(c);d&&!h[d[0]]&&(t=t.substr(t.indexOf(f)+1),i=t.match(l),i.push(","),a=-1,f="/")}else p===40||p===123||p===91?++u:p===41||p===125||p===93?--u:!s&&!o.length&&(p===34||p===39)&&(f=f.slice(1,-1));o.push(f)}}return r}function v(e,t){function i(e,t){function l(n){return n&&n.preprocess?t=n.preprocess(t,e,i):!0}var f;if(!a){if(!l(n.getBindingHandler(e)))return;d[e]&&(f=r(t))&&o.push("'"+e+"':function(_z){"+f+"=_z}")}u&&(t="function(){return "+t+" }"),s.push("'"+e+"':"+t)}t=t||{};var s=[],o=[],u=t.valueAccessors,a=t.bindingParams,f=typeof e=="string"?p(e):e;return n.utils.arrayForEach(f,function(e){i(e.key||e.unknown,e.value)}),o.length&&i("_ko_property_writers","{"+o.join(",")+" }"),s.join(",")}var e=["true","false","null","undefined"],t=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,i='"(?:[^"\\\\]|\\\\.)*"',s="'(?:[^'\\\\]|\\\\.)*'",o="/(?:[^/\\\\]|\\\\.)*/w*",u=",\"'{}()/:[\\]",a="[^\\s:,/][^"+u+"]*[^\\s"+u+"]",f="[^\\s]",l=RegExp(i+"|"+s+"|"+o+"|"+a+"|"+f,"g"),c=/[\])"'A-Za-z0-9_$]+$/,h={"in":1,"return":1,"typeof":1},d={};return{bindingRewriteValidators:[],twoWayBindings:d,parseObjectLiteral:p,preProcessBindings:v,keyValueArrayContainsKey:function(e,t){for(var n=0;n<e.length;n++)if(e[n]["key"]==t)return!0;return!1},writeValueToProperty:function(e,t,r,i,s){if(!e||!n.isObservable(e)){var o=t.get("_ko_property_writers");o&&o[r]&&o[r](i)}else n.isWriteableObservable(e)&&(!s||e.peek()!==i)&&e(i)}}}(),n.exportSymbol("expressionRewriting",n.expressionRewriting),n.exportSymbol("expressionRewriting.bindingRewriteValidators",n.expressionRewriting.bindingRewriteValidators),n.exportSymbol("expressionRewriting.parseObjectLiteral",n.expressionRewriting.parseObjectLiteral),n.exportSymbol("expressionRewriting.preProcessBindings",n.expressionRewriting.preProcessBindings),n.exportSymbol("expressionRewriting._twoWayBindings",n.expressionRewriting.twoWayBindings),n.exportSymbol("jsonExpressionRewriting",n.expressionRewriting),n.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",n.expressionRewriting.preProcessBindings),function(){function s(n){return n.nodeType==8&&t.test(e?n.text:n.nodeValue)}function o(t){return t.nodeType==8&&r.test(e?t.text:t.nodeValue)}function u(e,t){var n=e,r=1,i=[];while(n=n.nextSibling){if(o(n)){r--;if(r===0)return i}i.push(n),s(n)&&r++}if(!t)throw new Error("Cannot find closing comment tag to match: "+e.nodeValue);return null}function a(e,t){var n=u(e,t);return n?n.length>0?n[n.length-1].nextSibling:e.nextSibling:null}function f(e){var t=e.firstChild,n=null;if(t)do if(n)n.push(t);else if(s(t)){var r=a(t,!0);r?t=r:n=[t]}else o(t)&&(n=[t]);while(t=t.nextSibling);return n}var e=document&&document.createComment("test").text==="<!--test-->",t=e?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,r=e?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,i={ul:!0,ol:!0};n.virtualElements={allowedBindings:{},childNodes:function(e){return s(e)?u(e):e.childNodes},emptyNode:function(e){if(!s(e))n.utils.emptyDomNode(e);else{var t=n.virtualElements.childNodes(e);for(var r=0,i=t.length;r<i;r++)n.removeNode(t[r])}},setDomNodeChildren:function(e,t){if(!s(e))n.utils.setDomNodeChildren(e,t);else{n.virtualElements.emptyNode(e);var r=e.nextSibling;for(var i=0,o=t.length;i<o;i++)r.parentNode.insertBefore(t[i],r)}},prepend:function(e,t){s(e)?e.parentNode.insertBefore(t,e.nextSibling):e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},insertAfter:function(e,t,r){r?s(e)?e.parentNode.insertBefore(t,r.nextSibling):r.nextSibling?e.insertBefore(t,r.nextSibling):e.appendChild(t):n.virtualElements.prepend(e,t)},firstChild:function(e){return s(e)?!e.nextSibling||o(e.nextSibling)?null:e.nextSibling:e.firstChild},nextSibling:function(e){return s(e)&&(e=a(e)),e.nextSibling&&o(e.nextSibling)?null:e.nextSibling},hasBindingValue:s,virtualNodeBindingValue:function(n){var r=(e?n.text:n.nodeValue).match(t);return r?r[1]:null},normaliseVirtualElementDomStructure:function(e){if(!i[n.utils.tagNameLower(e)])return;var t=e.firstChild;if(t)do if(t.nodeType===1){var r=f(t);if(r){var s=t.nextSibling;for(var o=0;o<r.length;o++)s?e.insertBefore(r[o],s):e.appendChild(r[o])}}while(t=t.nextSibling)}}}(),n.exportSymbol("virtualElements",n.virtualElements),n.exportSymbol("virtualElements.allowedBindings",n.virtualElements.allowedBindings),n.exportSymbol("virtualElements.emptyNode",n.virtualElements.emptyNode),n.exportSymbol("virtualElements.insertAfter",n.virtualElements.insertAfter),n.exportSymbol("virtualElements.prepend",n.virtualElements.prepend),n.exportSymbol("virtualElements.setDomNodeChildren",n.virtualElements.setDomNodeChildren),function(){function t(e,t,n){var i=e+(n&&n.valueAccessors||"");return t[i]||(t[i]=r(e,n))}function r(e,t){var r=n.expressionRewriting.preProcessBindings(e,t),i="with($context){with($data||{}){return{"+r+"}}}";return new Function("$context","$element",i)}var e="data-bind";n.bindingProvider=function(){this.bindingCache={}},n.utils.extend(n.bindingProvider.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return t.getAttribute(e)!=null||n.components.getComponentNameForNode(t);case 8:return n.virtualElements.hasBindingValue(t);default:return!1}},getBindings:function(e,t){var r=this.getBindingsString(e,t),i=r?this.parseBindingsString(r,t,e):null;return n.components.addBindingsForCustomElement(i,e,t,!1)},getBindingAccessors:function(e,t){var r=this.getBindingsString(e,t),i=r?this.parseBindingsString(r,t,e,{valueAccessors:!0}):null;return n.components.addBindingsForCustomElement(i,e,t,!0)},getBindingsString:function(t,r){switch(t.nodeType){case 1:return t.getAttribute(e);case 8:return n.virtualElements.virtualNodeBindingValue(t);default:return null}},parseBindingsString:function(e,n,r,i){try{var s=t(e,this.bindingCache,i);return s(n,r)}catch(o){throw o.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+o.message,o}}}),n.bindingProvider.instance=new n.bindingProvider}(),n.exportSymbol("bindingProvider",n.bindingProvider),function(){function t(e){return function(){return e}}function r(e){return e()}function i(e){return n.utils.objectMap(n.dependencyDetection.ignore(e),function(t,n){return function(){return e()[n]}})}function s(e,r,s){return typeof e=="function"?i(e.bind(null,r,s)):n.utils.objectMap(e,t)}function o(e,t){return i(this.getBindings.bind(this,e,t))}function u(e){var t=n.virtualElements.allowedBindings[e];if(!t)throw new Error("The binding '"+e+"' cannot be used with virtual elements")}function a(e,t,r){var i,s=n.virtualElements.firstChild(t),o=n.bindingProvider.instance,u=o.preprocessNode;if(u){while(i=s)s=n.virtualElements.nextSibling(i),u.call(o,i);s=n.virtualElements.firstChild(t)}while(i=s)s=n.virtualElements.nextSibling(i),f(e,i,r)}function f(t,r,i){var s=!0,o=r.nodeType===1;o&&n.virtualElements.normaliseVirtualElementDomStructure(r);var u=o&&i||n.bindingProvider.instance.nodeHasBindings(r);u&&(s=h(r,null,t,i).shouldBindDescendants),s&&!e[n.utils.tagNameLower(r)]&&a(t,r,!o)}function c(e){var t=[],r={},i=[];return n.utils.objectForEach(e,function s(o){if(!r[o]){var u=n.getBindingHandler(o);u&&(u.after&&(i.push(o),n.utils.arrayForEach(u.after,function(t){if(e[t]){if(n.utils.arrayIndexOf(i,t)!==-1)throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+i.join(", "));s(t)}}),i.length--),t.push({key:o,handler:u})),r[o]=!0}}),t}function h(e,t,i,s){var a=n.utils.domData.get(e,l);if(!t){if(a)throw Error("You cannot apply bindings multiple times to the same element.");n.utils.domData.set(e,l,!0)}!a&&s&&n.storedBindingContextForNode(e,i);var f;if(t&&typeof t!="function")f=t;else{var h=n.bindingProvider.instance,p=h.getBindingAccessors||o,d=n.dependentObservable(function(){return f=t?t(i,e):p.call(h,e,i),f&&i._subscribable&&i._subscribable(),f},null,{disposeWhenNodeIsRemoved:e});if(!f||!d.isActive())d=null}var v;if(f){var m=d?function(e){return function(){return r(d()[e])}}:function(e){return f[e]};function g(){return n.utils.objectMap(d?d():f,r)}g.get=function(e){return f[e]&&r(m(e))},g.has=function(e){return e in f};var y=c(f);n.utils.arrayForEach(y,function(t){var r=t.handler.init,s=t.handler.update,o=t.key;e.nodeType===8&&u(o);try{typeof r=="function"&&n.dependencyDetection.ignore(function(){var t=r(e,m(o),g,i.$data,i);if(t&&t.controlsDescendantBindings){if(v!==undefined)throw new Error("Multiple bindings ("+v+" and "+o+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");v=o}}),typeof s=="function"&&n.dependentObservable(function(){s(e,m(o),g,i.$data,i)},null,{disposeWhenNodeIsRemoved:e})}catch(a){throw a.message='Unable to process binding "'+o+": "+f[o]+'"\nMessage: '+a.message,a}})}return{shouldBindDescendants:v===undefined}}function d(e){return e&&e instanceof n.bindingContext?e:new n.bindingContext(e)}n.bindingHandlers={};var e={script:!0,textarea:!0};n.getBindingHandler=function(e){return n.bindingHandlers[e]},n.bindingContext=function(e,t,r,i){function s(){var s=a?e():e,o=n.utils.unwrapObservable(s);return t?(t._subscribable&&t._subscribable(),n.utils.extend(u,t),l&&(u._subscribable=l)):(u.$parents=[],u.$root=o,u.ko=n),u.$rawData=s,u.$data=o,r&&(u[r]=o),i&&i(u,t,o),u.$data}function o(){return f&&!n.utils.anyDomNodeIsAttachedToDocument(f)}var u=this,a=typeof e=="function"&&!n.isObservable(e),f,l=n.dependentObservable(s,null,{disposeWhen:o,disposeWhenNodeIsRemoved:!0});l.isActive()&&(u._subscribable=l,l.equalityComparer=null,f=[],l._addNode=function(e){f.push(e),n.utils.domNodeDisposal.addDisposeCallback(e,function(e){n.utils.arrayRemoveItem(f,e),f.length||(l.dispose(),u._subscribable=l=undefined)})})},n.bindingContext.prototype.createChildContext=function(e,t,r){return new n.bindingContext(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),r&&r(e)})},n.bindingContext.prototype.extend=function(e){return new n.bindingContext(this._subscribable||this.$data,this,null,function(t,r){t.$rawData=r.$rawData,n.utils.extend(t,typeof e=="function"?e():e)})};var l=n.utils.domData.nextKey(),p=n.utils.domData.nextKey();n.storedBindingContextForNode=function(e,t){if(arguments.length!=2)return n.utils.domData.get(e,p);n.utils.domData.set(e,p,t),t._subscribable&&t._subscribable._addNode(e)},n.applyBindingAccessorsToNode=function(e,t,r){return e.nodeType===1&&n.virtualElements.normaliseVirtualElementDomStructure(e),h(e,t,d(r),!0)},n.applyBindingsToNode=function(e,t,r){var i=d(r);return n.applyBindingAccessorsToNode(e,s(t,i,e),i)},n.applyBindingsToDescendants=function(e,t){(t.nodeType===1||t.nodeType===8)&&a(d(e),t,!0)},n.applyBindings=function(e,t){!jQueryInstance&&window.jQuery&&(jQueryInstance=window.jQuery);if(t&&t.nodeType!==1&&t.nodeType!==8)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||window.document.body,f(d(e),t,!0)},n.contextFor=function(e){switch(e.nodeType){case 1:case 8:var t=n.storedBindingContextForNode(e);if(t)return t;if(e.parentNode)return n.contextFor(e.parentNode)}return undefined},n.dataFor=function(e){var t=n.contextFor(e);return t?t.$data:undefined},n.exportSymbol("bindingHandlers",n.bindingHandlers),n.exportSymbol("applyBindings",n.applyBindings),n.exportSymbol("applyBindingsToDescendants",n.applyBindingsToDescendants),n.exportSymbol("applyBindingAccessorsToNode",n.applyBindingAccessorsToNode),n.exportSymbol("applyBindingsToNode",n.applyBindingsToNode),n.exportSymbol("contextFor",n.contextFor),n.exportSymbol("dataFor",n.dataFor)}(),function(e){function i(t,n){return t.hasOwnProperty(n)?t[n]:e}function s(e,s){var u=i(t,e),a;u?u.subscribe(s):(u=t[e]=new n.subscribable,u.subscribe(s),o(e,function(n,i){var s=!!i&&!!i.synchronous;r[e]={definition:n,isSynchronousComponent:s},delete t[e],a||s?u.notifySubscribers(n):setTimeout(function(){u.notifySubscribers(n)},0)}),a=!0)}function o(e,t){u("getConfig",[e],function(n){n?u("loadComponent",[e,n],function(e){t(e,n)}):t(null,null)})}function u(t,r,i,s){s||(s=n.components.loaders.slice(0));var o=s.shift();if(o){var a=o[t];if(a){var f=!1,l=a.apply(o,r.concat(function(e){f?i(null):e!==null?i(e):u(t,r,i,s)}));if(l!==e){f=!0;if(!o.suppressLoaderExceptions)throw new Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}}else u(t,r,i,s)}else i(null)}var t={},r={};n.components={get:function(e,t){var o=i(r,e);o?o.isSynchronousComponent?n.dependencyDetection.ignore(function(){t(o.definition)}):setTimeout(function(){t(o.definition)},0):s(e,t)},clearCachedDefinition:function(e){delete r[e]},_getFirstResultFromLoaders:u},n.components.loaders=[],n.exportSymbol("components",n.components),n.exportSymbol("components.get",n.components.get),n.exportSymbol("components.clearCachedDefinition",n.components.clearCachedDefinition)}(),function(e){function s(e,t,r,s){var o={},u=2,a=function(){--u===0&&s(o)},f=r.template,l=r.viewModel;f?c(t,f,function(t){n.components._getFirstResultFromLoaders("loadTemplate",[e,t],function(e){o.template=e,a()})}):a(),l?c(t,l,function(t){n.components._getFirstResultFromLoaders("loadViewModel",[e,t],function(e){o[i]=e,a()})}):a()}function o(e,t,r){if(typeof t=="string")r(n.utils.parseHtmlFragment(t));else if(t instanceof Array)r(t);else if(l(t))r(n.utils.makeArray(t.childNodes));else if(t.element){var i=t.element;if(f(i))r(a(i));else if(typeof i=="string"){var s=document.getElementById(i);s?r(a(s)):e("Cannot find element with ID "+i)}else e("Unknown element type: "+i)}else e("Unknown template value: "+t)}function u(e,t,n){if(typeof t=="function")n(function(e){return new t(e)});else if(typeof t[i]=="function")n(t[i]);else if("instance"in t){var r=t.instance;n(function(e,t){return r})}else"viewModel"in t?u(e,t.viewModel,n):e("Unknown viewModel value: "+t)}function a(e){switch(n.utils.tagNameLower(e)){case"script":return n.utils.parseHtmlFragment(e.text);case"textarea":return n.utils.parseHtmlFragment(e.value);case"template":if(l(e.content))return n.utils.cloneNodes(e.content.childNodes)}return n.utils.cloneNodes(e.childNodes)}function f(e){return window.HTMLElement?e instanceof HTMLElement:e&&e.tagName&&e.nodeType===1}function l(e){return window.DocumentFragment?e instanceof DocumentFragment:e&&e.nodeType===11}function c(e,n,r){typeof n["require"]=="string"?t||window.require?(t||window.require)([n.require],r):e("Uses require, but no AMD loader is present"):r(n)}function h(e){return function(t){throw new Error("Component '"+e+"': "+t)}}var r={};n.components.register=function(e,t){if(!t)throw new Error("Invalid configuration for "+e);if(n.components.isRegistered(e))throw new Error("Component "+e+" is already registered");r[e]=t},n.components.isRegistered=function(e){return e in r},n.components.unregister=function(e){delete r[e],n.components.clearCachedDefinition(e)},n.components.defaultLoader={getConfig:function(e,t){var n=r.hasOwnProperty(e)?r[e]:null;t(n)},loadComponent:function(e,t,n){var r=h(e);c(r,t,function(t){s(e,r,t,n)})},loadTemplate:function(e,t,n){o(h(e),t,n)},loadViewModel:function(e,t,n){u(h(e),t,n)}};var i="createViewModel";n.exportSymbol("components.register",n.components.register),n.exportSymbol("components.isRegistered",n.components.isRegistered),n.exportSymbol("components.unregister",n.components.unregister),n.exportSymbol("components.defaultLoader",n.components.defaultLoader),n.components.loaders.push(n.components.defaultLoader),n.components._allRegisteredComponents=r}(),function(e){function r(e,r){var i=e.getAttribute("params");if(i){var s=t.parseBindingsString(i,r,e,{valueAccessors:!0,bindingParams:!0}),o=n.utils.objectMap(s,function(t,r){return n.computed(t,null,{disposeWhenNodeIsRemoved:e})}),u=n.utils.objectMap(o,function(t,r){var i=t.peek();return t.isActive()?n.computed({read:function(){return n.utils.unwrapObservable(t())},write:n.isWriteableObservable(i)&&function(e){t()(e)},disposeWhenNodeIsRemoved:e}):i});return u.hasOwnProperty("$raw")||(u.$raw=o),u}return{$raw:{}}}n.components.getComponentNameForNode=function(e){var t=n.utils.tagNameLower(e);return n.components.isRegistered(t)&&t},n.components.addBindingsForCustomElement=function(e,t,i,s){if(t.nodeType===1){var o=n.components.getComponentNameForNode(t);if(o){e=e||{};if(e.component)throw new Error('Cannot use the "component" binding on a custom element matching a component');var u={name:o,params:r(t,i)};e.component=s?function(){return u}:u}}return e};var t=new n.bindingProvider;n.utils.ieVersion<9&&(n.components.register=function(e){return function(t){return document.createElement(t),e.apply(this,arguments)}}(n.components.register),document.createDocumentFragment=function(e){return function(){var t=e(),r=n.components._allRegisteredComponents;for(var i in r)r.hasOwnProperty(i)&&t.createElement(i);return t}}(document.createDocumentFragment))}(),function(e){function r(e,t,r){var i=t.template;if(!i)throw new Error("Component '"+e+"' has no template");var s=n.utils.cloneNodes(i);n.virtualElements.setDomNodeChildren(r,s)}function i(e,t,n,r){var i=e.createViewModel;return i?i.call(e,r,{element:t,templateNodes:n}):r}var t=0;n.bindingHandlers.component={init:function(s,o,u,a,f){var l,c,h=function(){var e=l&&l.dispose;typeof e=="function"&&e.call(l),c=null},p=n.utils.makeArray(n.virtualElements.childNodes(s));return n.utils.domNodeDisposal.addDisposeCallback(s,h),n.computed(function(){var u=n.utils.unwrapObservable(o()),a,d;typeof u=="string"?a=u:(a=n.utils.unwrapObservable(u.name),d=n.utils.unwrapObservable(u.params));if(!a)throw new Error("No component name specified");var v=c=++t;n.components.get(a,function(t){if(c!==v)return;h();if(!t)throw new Error("Unknown component '"+a+"'");r(a,t,s);var o=i(t,s,p,d),u=f.createChildContext(o,e,function(e){e.$component=o,e.$componentTemplateNodes=p});l=o,n.applyBindingsToDescendants(u,s)})},null,{disposeWhenNodeIsRemoved:s}),{controlsDescendantBindings:!0}}},n.virtualElements.allowedBindings.component=!0}();var p={"class":"className","for":"htmlFor"};n.bindingHandlers.attr={update:function(e,t,r){var i=n.utils.unwrapObservable(t())||{};n.utils.objectForEach(i,function(t,r){r=n.utils.unwrapObservable(r);var i=r===!1||r===null||r===undefined;i&&e.removeAttribute(t),n.utils.ieVersion<=8&&t in p?(t=p[t],i?e.removeAttribute(t):e[t]=r):i||e.setAttribute(t,r.toString()),t==="name"&&n.utils.setElementName(e,i?"":r.toString())})}},function(){n.bindingHandlers.checked={after:["value","attr"],init:function(e,t,r){function s(){var s=e.checked,o=c?i():s;if(n.computedContext.isInitial())return;if(a&&!s)return;var u=n.dependencyDetection.ignore(t);f?l!==o?(s&&(n.utils.addOrRemoveItem(u,o,!0),n.utils.addOrRemoveItem(u,l,!1)),l=o):n.utils.addOrRemoveItem(u,o,s):n.expressionRewriting.writeValueToProperty(u,r,"checked",o,!0)}function o(){var r=n.utils.unwrapObservable(t());f?e.checked=n.utils.arrayIndexOf(r,i())>=0:u?e.checked=r:e.checked=i()===r}var i=n.pureComputed(function(){return r.has("checkedValue")?n.utils.unwrapObservable(r.get("checkedValue")):r.has("value")?n.utils.unwrapObservable(r.get("value")):e.value}),u=e.type=="checkbox",a=e.type=="radio";if(!u&&!a)return;var f=u&&n.utils.unwrapObservable(t())instanceof Array,l=f?i():undefined,c=a||f;a&&!e.name&&n.bindingHandlers.uniqueName.init(e,function(){return!0}),n.computed(s,null,{disposeWhenNodeIsRemoved:e}),n.utils.registerEventHandler(e,"click",s),n.computed(o,null,{disposeWhenNodeIsRemoved:e})}},n.expressionRewriting.twoWayBindings.checked=!0,n.bindingHandlers.checkedValue={update:function(e,t){e.value=n.utils.unwrapObservable(t())}}}();var d="__ko__cssValue";n.bindingHandlers.css={update:function(e,t){var r=n.utils.unwrapObservable(t());r!==null&&typeof r=="object"?n.utils.objectForEach(r,function(t,r){r=n.utils.unwrapObservable(r),n.utils.toggleDomNodeCssClass(e,t,r)}):(r=String(r||""),n.utils.toggleDomNodeCssClass(e,e[d],!1),e[d]=r,n.utils.toggleDomNodeCssClass(e,r,!0))}},n.bindingHandlers.enable={update:function(e,t){var r=n.utils.unwrapObservable(t());r&&e.disabled?e.removeAttribute("disabled"):!r&&!e.disabled&&(e.disabled=!0)}},n.bindingHandlers.disable={update:function(e,t){n.bindingHandlers.enable.update(e,function(){return!n.utils.unwrapObservable(t())})}},n.bindingHandlers.event={init:function(e,t,r,i,s){var o=t()||{};n.utils.objectForEach(o,function(o){typeof o=="string"&&n.utils.registerEventHandler(e,o,function(e){var u,a=t()[o];if(!a)return;try{var f=n.utils.makeArray(arguments);i=s.$data,f.unshift(i),u=a.apply(i,f)}finally{u!==!0&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}var l=r.get(o+"Bubble")!==!1;l||(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())})})}},n.bindingHandlers.foreach={makeTemplateValueAccessor:function(e){return function(){var t=e(),r=n.utils.peekObservable(t);return!r||typeof r.length=="number"?{foreach:t,templateEngine:n.nativeTemplateEngine.instance}:(n.utils.unwrapObservable(t),{foreach:r.data,as:r.as,includeDestroyed:r.includeDestroyed,afterAdd:r.afterAdd,beforeRemove:r.beforeRemove,afterRender:r.afterRender,beforeMove:r.beforeMove,afterMove:r.afterMove,templateEngine:n.nativeTemplateEngine.instance})}},init:function(e,t,r,i,s){return n.bindingHandlers.template.init(e,n.bindingHandlers.foreach.makeTemplateValueAccessor(t))},update:function(e,t,r,i,s){return n.bindingHandlers.template.update(e,n.bindingHandlers.foreach.makeTemplateValueAccessor(t),r,i,s)}},n.expressionRewriting.bindingRewriteValidators.foreach=!1,n.virtualElements.allowedBindings.foreach=!0;var m="__ko_hasfocusUpdating",g="__ko_hasfocusLastValue";n.bindingHandlers.hasfocus={init:function(e,t,r){var i=function(i){e[m]=!0;var s=e.ownerDocument;if("activeElement"in s){var o;try{o=s.activeElement}catch(u){o=s.body}i=o===e}var a=t();n.expressionRewriting.writeValueToProperty(a,r,"hasfocus",i,!0),e[g]=i,e[m]=!1},s=i.bind(null,!0),o=i.bind(null,!1);n.utils.registerEventHandler(e,"focus",s),n.utils.registerEventHandler(e,"focusin",s),n.utils.registerEventHandler(e,"blur",o),n.utils.registerEventHandler(e,"focusout",o)},update:function(e,t){var r=!!n.utils.unwrapObservable(t());!e[m]&&e[g]!==r&&(r?e.focus():e.blur(),n.dependencyDetection.ignore(n.utils.triggerEvent,null,[e,r?"focusin":"focusout"]))}},n.expressionRewriting.twoWayBindings.hasfocus=!0,n.bindingHandlers.hasFocus=n.bindingHandlers.hasfocus,n.expressionRewriting.twoWayBindings.hasFocus=!0,n.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){n.utils.setHtml(e,t())}},y("if"),y("ifnot",!1,!0),y("with",!0,!1,function(e,t){return e.createChildContext(t)});var b={};n.bindingHandlers.options={init:function(e){if(n.utils.tagNameLower(e)!=="select")throw new Error("options binding applies only to SELECT elements");while(e.length>0)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,t,r){function i(){return n.utils.arrayFilter(e.options,function(e){return e.selected})}function v(e,t,n){var r=typeof t;return r=="function"?t(e):r=="string"?e[t]:n}function g(t,i,s){s.length&&(d=!f&&s[0].selected?[n.selectExtensions.readValue(s[0])]:[],m=!0);var o=e.ownerDocument.createElement("option");if(t===b)n.utils.setTextContent(o,r.get("optionsCaption")),n.selectExtensions.writeValue(o,undefined);else{var u=v(t,r.get("optionsValue"),t);n.selectExtensions.writeValue(o,n.utils.unwrapObservable(u));var a=v(t,r.get("optionsText"),u);n.utils.setTextContent(o,a)}return[o]}function y(t,i){if(m&&f)n.selectExtensions.writeValue(e,n.utils.unwrapObservable(r.get("value")),!0);else if(d.length){var s=n.utils.arrayIndexOf(d,n.selectExtensions.readValue(i[0]))>=0;n.utils.setOptionNodeSelectionState(i[0],s),m&&!s&&n.dependencyDetection.ignore(n.utils.triggerEvent,null,[e,"change"])}}var s=e.length==0,o=e.multiple,u=!s&&o?e.scrollTop:null,a=n.utils.unwrapObservable(t()),f=r.get("valueAllowUnset")&&r.has("value"),l=r.get("optionsIncludeDestroyed"),c={},h,p,d=[];f||(o?d=n.utils.arrayMap(i(),n.selectExtensions.readValue):e.selectedIndex>=0&&d.push(n.selectExtensions.readValue(e.options[e.selectedIndex]))),a&&(typeof a.length=="undefined"&&(a=[a]),p=n.utils.arrayFilter(a,function(e){return l||e===undefined||e===null||!n.utils.unwrapObservable(e._destroy)}),r.has("optionsCaption")&&(h=n.utils.unwrapObservable(r.get("optionsCaption")),h!==null&&h!==undefined&&p.unshift(b)));var m=!1;c.beforeRemove=function(t){e.removeChild(t)};var w=y;r.has("optionsAfterRender")&&typeof r.get("optionsAfterRender")=="function"&&(w=function(e,t){y(e,t),n.dependencyDetection.ignore(r.get("optionsAfterRender"),null,[t[0],e!==b?e:undefined])}),n.utils.setDomNodeChildrenFromArrayMapping(e,p,g,c,w),n.dependencyDetection.ignore(function(){if(f)n.selectExtensions.writeValue(e,n.utils.unwrapObservable(r.get("value")),!0);else{var t;o?t=d.length&&i().length<d.length:t=d.length&&e.selectedIndex>=0?n.selectExtensions.readValue(e.options[e.selectedIndex])!==d[0]:d.length||e.selectedIndex>=0,t&&n.utils.triggerEvent(e,"change")}}),n.utils.ensureSelectElementIsRenderedCorrectly(e),u&&Math.abs(u-e.scrollTop)>20&&(e.scrollTop=u)}},n.bindingHandlers.options.optionValueDomDataKey=n.utils.domData.nextKey(),n.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(e,t,r){n.utils.registerEventHandler(e,"change",function(){var i=t(),s=[];n.utils.arrayForEach(e.getElementsByTagName("option"),function(e){e.selected&&s.push(n.selectExtensions.readValue(e))}),n.expressionRewriting.writeValueToProperty(i,r,"selectedOptions",s)})},update:function(e,t){if(n.utils.tagNameLower(e)!="select")throw new Error("values binding applies only to SELECT elements");var r=n.utils.unwrapObservable(t());r&&typeof r.length=="number"&&n.utils.arrayForEach(e.getElementsByTagName("option"),function(e){var t=n.utils.arrayIndexOf(r,n.selectExtensions.readValue(e))>=0;n.utils.setOptionNodeSelectionState(e,t)})}},n.expressionRewriting.twoWayBindings.selectedOptions=!0,n.bindingHandlers.style={update:function(e,t){var r=n.utils.unwrapObservable(t()||{});n.utils.objectForEach(r,function(t,r){r=n.utils.unwrapObservable(r);if(r===null||r===undefined||r===!1)r="";e.style[t]=r})}},n.bindingHandlers.submit={init:function(e,t,r,i,s){if(typeof t()!="function")throw new Error("The value for a submit binding must be a function");n.utils.registerEventHandler(e,"submit",function(n){var r,i=t();try{r=i.call(s.$data,e)}finally{r!==!0&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},n.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){n.utils.setTextContent(e,t())}},n.virtualElements.allowedBindings.text=!0,function(){if(window&&window.navigator)var e=function(e){if(e)return parseFloat(e[1])},t=window.opera&&window.opera.version&&parseInt(window.opera.version()),r=window.navigator.userAgent,i=e(r.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),s=e(r.match(/Firefox\/([^ ]*)/));if(n.utils.ieVersion<10)var o=n.utils.domData.nextKey(),u=n.utils.domData.nextKey(),a=function(e){var t=this.activeElement,r=t&&n.utils.domData.get(t,u);r&&r(e)},f=function(e,t){var r=e.ownerDocument;n.utils.domData.get(r,o)||(n.utils.domData.set(r,o,!0),n.utils.registerEventHandler(r,"selectionchange",a)),n.utils.domData.set(e,u,t)};n.bindingHandlers.textInput={init:function(e,r,o){var u=e.value,a,l,c=function(t){clearTimeout(a),l=a=undefined;var i=e.value;u!==i&&(DEBUG&&t&&(e._ko_textInputProcessedEvent=t.type),u=i,n.expressionRewriting.writeValueToProperty(r(),o,"textInput",i))},h=function(t){if(!a){l=e.value;var n=DEBUG?c.bind(e,{type:t.type}):c;a=setTimeout(n,4)}},p=function(){var t=n.utils.unwrapObservable(r());if(t===null||t===undefined)t="";if(l!==undefined&&t===l){setTimeout(p,4);return}e.value!==t&&(u=t,e.value=t)},d=function(t,r){n.utils.registerEventHandler(e,t,r)};DEBUG&&n.bindingHandlers.textInput._forceUpdateOn?n.utils.arrayForEach(n.bindingHandlers.textInput._forceUpdateOn,function(e){e.slice(0,5)=="after"?d(e.slice(5),h):d(e,c)}):n.utils.ieVersion<10?(d("propertychange",function(e){e.propertyName==="value"&&c(e)}),n.utils.ieVersion==8&&(d("keyup",c),d("keydown",c)),n.utils.ieVersion>=8&&(f(e,c),d("dragend",h))):(d("input",c),i<5&&n.utils.tagNameLower(e)==="textarea"?(d("keydown",h),d("paste",h),d("cut",h)):t<11?d("keydown",h):s<4&&(d("DOMAutoComplete",c),d("dragdrop",c),d("drop",c))),d("change",c),n.computed(p,null,{disposeWhenNodeIsRemoved:e})}},n.expressionRewriting.twoWayBindings.textInput=!0,n.bindingHandlers.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),n.bindingHandlers.uniqueName={init:function(e,t){if(t()){var r="ko_unique_"+ ++n.bindingHandlers.uniqueName.currentIndex;n.utils.setElementName(e,r)}}},n.bindingHandlers.uniqueName.currentIndex=0,n.bindingHandlers.value={after:["options","foreach"],init:function(e,t,r){if(e.tagName.toLowerCase()=="input"&&(e.type=="checkbox"||e.type=="radio")){n.applyBindingAccessorsToNode(e,{checkedValue:t});return}var i=["change"],s=r.get("valueUpdate"),o=!1,u=null;s&&(typeof s=="string"&&(s=[s]),n.utils.arrayPushAll(i,s),i=n.utils.arrayGetDistinctValues(i));var a=function(){u=null,o=!1;var i=t(),s=n.selectExtensions.readValue(e);n.expressionRewriting.writeValueToProperty(i,r,"value",s)},f=n.utils.ieVersion&&e.tagName.toLowerCase()=="input"&&e.type=="text"&&e.autocomplete!="off"&&(!e.form||e.form.autocomplete!="off");f&&n.utils.arrayIndexOf(i,"propertychange")==-1&&(n.utils.registerEventHandler(e,"propertychange",function(){o=!0}),n.utils.registerEventHandler(e,"focus",function(){o=!1}),n.utils.registerEventHandler(e,"blur",function(){o&&a()})),n.utils.arrayForEach(i,function(t){var r=a;n.utils.stringStartsWith(t,"after")&&(r=function(){u=n.selectExtensions.readValue(e),setTimeout(a,0)},t=t.substring("after".length)),n.utils.registerEventHandler(e,t,r)});var l=function(){var i=n.utils.unwrapObservable(t()),s=n.selectExtensions.readValue(e);if(u!==null&&i===u){setTimeout(l,0);return}var o=i!==s;if(o)if(n.utils.tagNameLower(e)==="select"){var a=r.get("valueAllowUnset"),f=function(){n.selectExtensions.writeValue(e,i,a)};f(),!a&&i!==n.selectExtensions.readValue(e)?n.dependencyDetection.ignore(n.utils.triggerEvent,null,[e,"change"]):setTimeout(f,0)}else n.selectExtensions.writeValue(e,i)};n.computed(l,null,{disposeWhenNodeIsRemoved:e})},update:function(){}},n.expressionRewriting.twoWayBindings.value=!0,n.bindingHandlers.visible={update:function(e,t){var r=n.utils.unwrapObservable(t()),i=e.style.display!="none";r&&!i?e.style.display="":!r&&i&&(e.style.display="none")}},v("click"),n.templateEngine=function(){},n.templateEngine.prototype.renderTemplateSource=function(e,t,n,r){throw new Error("Override renderTemplateSource")},n.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(e){throw new Error("Override createJavaScriptEvaluatorBlock")},n.templateEngine.prototype.makeTemplateSource=function(e,t){if(typeof e=="string"){t=t||document;var r=t.getElementById(e);if(!r)throw new Error("Cannot find template with ID "+e);return new n.templateSources.domElement(r)}if(e.nodeType==1||e.nodeType==8)return new n.templateSources.anonymousTemplate(e);throw new Error("Unknown template type: "+e)},n.templateEngine.prototype.renderTemplate=function(e,t,n,r){var i=this.makeTemplateSource(e,r);return this.renderTemplateSource(i,t,n,r)},n.templateEngine.prototype.isTemplateRewritten=function(e,t){return this.allowTemplateRewriting===!1?!0:this.makeTemplateSource(e,t).data("isRewritten")},n.templateEngine.prototype.rewriteTemplate=function(e,t,n){var r=this.makeTemplateSource(e,n),i=t(r.text());r.text(i),r.data("isRewritten",!0)},n.exportSymbol("templateEngine",n.templateEngine),n.templateRewriting=function(){function r(e){var t=n.expressionRewriting.bindingRewriteValidators;for(var r=0;r<e.length;r++){var i=e[r].key;if(t.hasOwnProperty(i)){var s=t[i];if(typeof s=="function"){var o=s(e[r].value);if(o)throw new Error(o)}else if(!s)throw new Error("This template engine does not support the '"+i+"' binding within its templates")}}}function i(e,t,i,s){var o=n.expressionRewriting.parseObjectLiteral(e);r(o);var u=n.expressionRewriting.preProcessBindings(o,{valueAccessors:!0}),a="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+u+" } })()},'"+i.toLowerCase()+"')";return s.createJavaScriptEvaluatorBlock(a)+t}var e=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,t=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(e,t,r){t.isTemplateRewritten(e,r)||t.rewriteTemplate(e,function(e){return n.templateRewriting.memoizeBindingAttributeSyntax(e,t)},r)},memoizeBindingAttributeSyntax:function(n,r){return n.replace(e,function(){return i(arguments[4],arguments[1],arguments[2],r)}).replace(t,function(){return i(arguments[1],"<!-- ko -->","#comment",r)})},applyMemoizedBindingsToNextSibling:function(e,t){return n.memoization.memoize(function(r,i){var s=r.nextSibling;s&&s.nodeName.toLowerCase()===t&&n.applyBindingAccessorsToNode(s,e,i)})}}}(),n.exportSymbol("__tr_ambtns",n.templateRewriting.applyMemoizedBindingsToNextSibling),function(){n.templateSources={},n.templateSources.domElement=function(e){this.domElement=e},n.templateSources.domElement.prototype.text=function(){var e=n.utils.tagNameLower(this.domElement),t=e==="script"?"text":e==="textarea"?"value":"innerHTML";if(arguments.length==0)return this.domElement[t];var r=arguments[0];t==="innerHTML"?n.utils.setHtml(this.domElement,r):this.domElement[t]=r};var e=n.utils.domData.nextKey()+"_";n.templateSources.domElement.prototype.data=function(t){if(arguments.length===1)return n.utils.domData.get(this.domElement,e+t);n.utils.domData.set(this.domElement,e+t,arguments[1])};var t=n.utils.domData.nextKey();n.templateSources.anonymousTemplate=function(e){this.domElement=e},n.templateSources.anonymousTemplate.prototype=new n.templateSources.domElement,n.templateSources.anonymousTemplate.prototype.constructor=n.templateSources.anonymousTemplate,n.templateSources.anonymousTemplate.prototype.text=function(){if(arguments.length==0){var e=n.utils.domData.get(this.domElement,t)||{};return e.textData===undefined&&e.containerData&&(e.textData=e.containerData.innerHTML),e.textData}var r=arguments[0];n.utils.domData.set(this.domElement,t,{textData:r})},n.templateSources.domElement.prototype.nodes=function(){if(arguments.length==0){var e=n.utils.domData.get(this.domElement,t)||{};return e.containerData}var r=arguments[0];n.utils.domData.set(this.domElement,t,{containerData:r})},n.exportSymbol("templateSources",n.templateSources),n.exportSymbol("templateSources.domElement",n.templateSources.domElement),n.exportSymbol("templateSources.anonymousTemplate",n.templateSources.anonymousTemplate)}(),function(){function t(e,t,r){var i,s=e,o=n.virtualElements.nextSibling(t);while(s&&(i=s)!==o)s=n.virtualElements.nextSibling(i),r(i,s)}function r(e,r){if(e.length){var i=e[0],s=e[e.length-1],o=i.parentNode,u=n.bindingProvider.instance,a=u.preprocessNode;if(a){t(i,s,function(e,t){var n=e.previousSibling,r=a.call(u,e);r&&(e===i&&(i=r[0]||t),e===s&&(s=r[r.length-1]||n))}),e.length=0;if(!i)return;i===s?e.push(i):(e.push(i,s),n.utils.fixUpContinuousNodeArray(e,o))}t(i,s,function(e){(e.nodeType===1||e.nodeType===8)&&n.applyBindings(r,e)}),t(i,s,function(e){(e.nodeType===1||e.nodeType===8)&&n.memoization.unmemoizeDomNodeAndDescendants(e,[r])}),n.utils.fixUpContinuousNodeArray(e,o)}}function i(e){return e.nodeType?e:e.length>0?e[0]:null}function s(t,s,o,u,a){a=a||{};var f=t&&i(t),l=(f||o||{}).ownerDocument,c=a.templateEngine||e;n.templateRewriting.ensureTemplateIsRewritten(o,c,l);var h=c.renderTemplate(o,u,a,l);if(typeof h.length!="number"||h.length>0&&typeof h[0].nodeType!="number")throw new Error("Template engine must return an array of DOM nodes");var p=!1;switch(s){case"replaceChildren":n.virtualElements.setDomNodeChildren(t,h),p=!0;break;case"replaceNode":n.utils.replaceDomNodes(t,h),p=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+s)}return p&&(r(h,u),a.afterRender&&n.dependencyDetection.ignore(a.afterRender,null,[h,u.$data])),h}function o(e,t,r){return n.isObservable(e)?e():typeof e=="function"?e(t,r):e}function a(e,t){var r=n.utils.domData.get(e,u);r&&typeof r.dispose=="function"&&r.dispose(),n.utils.domData.set(e,u,t&&t.isActive()?t:undefined)}var e;n.setTemplateEngine=function(t){if(!(t==undefined||t instanceof n.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");e=t},n.renderTemplate=function(t,r,u,a,f){u=u||{};if((u["templateEngine"]||e)==undefined)throw new Error("Set a template engine before calling renderTemplate");f=f||"replaceChildren";if(a){var l=i(a),c=function(){return!l||!n.utils.domNodeIsAttachedToDocument(l)},h=l&&f=="replaceNode"?l.parentNode:l;return n.dependentObservable(function(){var e=r&&r instanceof n.bindingContext?r:new n.bindingContext(n.utils.unwrapObservable(r)),c=o(t,e.$data,e),h=s(a,f,c,e,u);f=="replaceNode"&&(a=h,l=i(a))},null,{disposeWhen:c,disposeWhenNodeIsRemoved:h})}return n.memoization.memoize(function(e){n.renderTemplate(t,r,u,e,"replaceNode")})},n.renderTemplateForEach=function(e,t,i,u,a){var f,l=function(t,n){f=a.createChildContext(t,i.as,function(e){e.$index=n});var r=o(e,t,f);return s(null,"ignoreTargetNode",r,f,i)},c=function(e,t,n){r(t,f),i.afterRender&&i.afterRender(t,e),f=null};return n.dependentObservable(function(){var e=n.utils.unwrapObservable(t)||[];typeof e.length=="undefined"&&(e=[e]);var r=n.utils.arrayFilter(e,function(e){return i.includeDestroyed||e===undefined||e===null||!n.utils.unwrapObservable(e._destroy)});n.dependencyDetection.ignore(n.utils.setDomNodeChildrenFromArrayMapping,null,[u,r,l,i,c])},null,{disposeWhenNodeIsRemoved:u})};var u=n.utils.domData.nextKey();n.bindingHandlers.template={init:function(e,t){var r=n.utils.unwrapObservable(t());if(typeof r=="string"||r.name)n.virtualElements.emptyNode(e);else if("nodes"in r){var i=r.nodes||[];if(n.isObservable(i))throw new Error('The "nodes" option must be a plain, non-observable array.');var s=n.utils.moveCleanedNodesToContainerElement(i);(new n.templateSources.anonymousTemplate(e)).nodes(s)}else{var o=n.virtualElements.childNodes(e),s=n.utils.moveCleanedNodesToContainerElement(o);(new n.templateSources.anonymousTemplate(e)).nodes(s)}return{controlsDescendantBindings:!0}},update:function(e,t,r,i,s){var o=t(),u,f=n.utils.unwrapObservable(o),l=!0,c=null,h;typeof f=="string"?(h=o,f={}):(h=f.name,"if"in f&&(l=n.utils.unwrapObservable(f["if"])),l&&"ifnot"in f&&(l=!n.utils.unwrapObservable(f.ifnot)),u=n.utils.unwrapObservable(f.data));if("foreach"in f){var p=l&&f.foreach||[];c=n.renderTemplateForEach(h||e,p,f,e,s)}else if(!l)n.virtualElements.emptyNode(e);else{var d="data"in f?s.createChildContext(u,f.as):s;c=n.renderTemplate(h||e,d,f,e)}a(e,c)}},n.expressionRewriting.bindingRewriteValidators.template=function(e){var t=n.expressionRewriting.parseObjectLiteral(e);return t.length==1&&t[0].unknown?null:n.expressionRewriting.keyValueArrayContainsKey(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},n.virtualElements.allowedBindings.template=!0}(),n.exportSymbol("setTemplateEngine",n.setTemplateEngine),n.exportSymbol("renderTemplate",n.renderTemplate),n.utils.findMovesInArrayComparison=function(e,t,n){if(e.length&&t.length){var r,i,s,o,u;for(r=i=0;(!n||r<n)&&(o=e[i]);++i){for(s=0;u=t[s];++s)if(o.value===u.value){o.moved=u.index,u.moved=o.index,t.splice(s,1),r=s=0;break}r+=s}}},n.utils.compareArrays=function(){function r(n,r,s){return s=typeof s=="boolean"?{dontLimitMoves:s}:s||{},n=n||[],r=r||[],n.length<=r.length?i(n,r,e,t,s):i(r,n,t,e,s)}function i(e,t,r,i,s){var o=Math.min,u=Math.max,a=[],f,l=e.length,c,h=t.length,p=h-l||1,d=l+h+1,v,m,g,y;for(f=0;f<=l;f++){m=v,a.push(v=[]),g=o(h,f+p),y=u(0,f-1);for(c=y;c<=g;c++)if(!c)v[c]=f+1;else if(!f)v[c]=c+1;else if(e[f-1]===t[c-1])v[c]=m[c-1];else{var b=m[c]||d,w=v[c-1]||d;v[c]=o(b,w)+1}}var E=[],S,x=[],T=[];for(f=l,c=h;f||c;)S=a[f][c]-1,c&&S===a[f][c-1]?x.push(E[E.length]={status:r,value:t[--c],index:c}):f&&S===a[f-1][c]?T.push(E[E.length]={status:i,value:e[--f],index:f}):(--c,--f,s.sparse||E.push({status:"retained",value:t[c]}));return n.utils.findMovesInArrayComparison(x,T,l*10),E.reverse()}var e="added",t="deleted";return r}(),n.exportSymbol("utils.compareArrays",n.utils.compareArrays),function(){function e(e,t,r,i,s){var o=[],u=n.dependentObservable(function(){var u=t(r,s,n.utils.fixUpContinuousNodeArray(o,e))||[];o.length>0&&(n.utils.replaceDomNodes(o,u),i&&n.dependencyDetection.ignore(i,null,[r,u,s])),o.length=0,n.utils.arrayPushAll(o,u)},null,{disposeWhenNodeIsRemoved:e,disposeWhen:function(){return!n.utils.anyDomNodeIsAttachedToDocument(o)}});return{mappedNodes:o,dependentObservable:u.isActive()?u:undefined}}var t=n.utils.domData.nextKey();n.utils.setDomNodeChildrenFromArrayMapping=function(r,i,s,o,u){function E(e,t){w=f[t],d!==t&&(y[e]=w),w.indexObservable(d++),n.utils.fixUpContinuousNodeArray(w.mappedNodes,r),h.push(w),m.push(w)}function S(e,t){if(e)for(var r=0,i=t.length;r<i;r++)t[r]&&n.utils.arrayForEach(t[r].mappedNodes,function(n){e(n,r,t[r].arrayEntry)})}i=i||[],o=o||{};var a=n.utils.domData.get(r,t)===undefined,f=n.utils.domData.get(r,t)||[],l=n.utils.arrayMap(f,function(e){return e.arrayEntry}),c=n.utils.compareArrays(l,i,o.dontLimitMoves),h=[],p=0,d=0,v=[],m=[],g=[],y=[],b=[],w;for(var x=0,T,N;T=c[x];x++){N=T.moved;switch(T.status){case"deleted":N===undefined&&(w=f[p],w.dependentObservable&&w.dependentObservable.dispose(),v.push.apply(v,n.utils.fixUpContinuousNodeArray(w.mappedNodes,r)),o.beforeRemove&&(g[x]=w,m.push(w))),p++;break;case"retained":E(x,p++);break;case"added":N!==undefined?E(x,N):(w={arrayEntry:T.value,indexObservable:n.observable(d++)},h.push(w),m.push(w),a||(b[x]=w))}}S(o.beforeMove,y),n.utils.arrayForEach(v,o.beforeRemove?n.cleanNode:n.removeNode);for(var x=0,C=n.virtualElements.firstChild(r),k,L;w=m[x];x++){w.mappedNodes||n.utils.extend(w,e(r,s,w.arrayEntry,u,w.indexObservable));for(var A=0;L=w.mappedNodes[A];C=L.nextSibling,k=L,A++)L!==C&&n.virtualElements.insertAfter(r,L,k);!w.initialized&&u&&(u(w.arrayEntry,w.mappedNodes,w.indexObservable),w.initialized=!0)}S(o.beforeRemove,g),S(o.afterMove,y),S(o.afterAdd,b),n.utils.domData.set(r,t,h)}}(),n.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",n.utils.setDomNodeChildrenFromArrayMapping),n.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},n.nativeTemplateEngine.prototype=new n.templateEngine,n.nativeTemplateEngine.prototype.constructor=n.nativeTemplateEngine,n.nativeTemplateEngine.prototype.renderTemplateSource=function(e,t,r,i){var s=!(n.utils.ieVersion<9),o=s?e.nodes:null,u=o?e.nodes():null;if(u)return n.utils.makeArray(u.cloneNode(!0).childNodes);var a=e.text();return n.utils.parseHtmlFragment(a,i)},n.nativeTemplateEngine.instance=new n.nativeTemplateEngine,n.setTemplateEngine(n.nativeTemplateEngine.instance),n.exportSymbol("nativeTemplateEngine",n.nativeTemplateEngine),function(){n.jqueryTmplTemplateEngine=function(){function t(){if(e<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}function n(e,t,n){return jQueryInstance.tmpl(e,t,n)}var e=this.jQueryTmplVersion=function(){if(!jQueryInstance||!jQueryInstance.tmpl)return 0;try{if(jQueryInstance.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(e){}return 1}();this.renderTemplateSource=function(e,r,i,s){s=s||document,i=i||{},t();var o=e.data("precompiled");if(!o){var u=e.text()||"";u="{{ko_with $item.koBindingContext}}"+u+"{{/ko_with}}",o=jQueryInstance.template(null,u),e.data("precompiled",o)}var a=[r.$data],f=jQueryInstance.extend({koBindingContext:r},i.templateOptions),l=n(o,a,f);return l.appendTo(s.createElement("div")),jQueryInstance.fragments={},l},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){document.write("<script type='text/html' id='"+e+"'>"+t+"<"+"/script>")},e>0&&(jQueryInstance.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQueryInstance.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},n.jqueryTmplTemplateEngine.prototype=new n.templateEngine,n.jqueryTmplTemplateEngine.prototype.constructor=n.jqueryTmplTemplateEngine;var e=new n.jqueryTmplTemplateEngine;e.jQueryTmplVersion>0&&n.setTemplateEngine(e),n.exportSymbol("jqueryTmplTemplateEngine",n.jqueryTmplTemplateEngine)}()})})()})();